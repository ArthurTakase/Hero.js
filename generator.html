<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
        <link rel="stylesheet" href="css/generator/navbar.css">
        <link rel="stylesheet" href="css/generator/generator.css">
        <link rel="stylesheet" href="css/generator/dialogs.css">
        <link rel="stylesheet" href="css/generator/graph.css">
        <link rel="icon" type="image/png" href="img/icon.png" />

        <!-- LIB -->
        <script src="//d3js.org/d3.v5.min.js"></script>
        <script src="https://unpkg.com/@hpcc-js/wasm@0.3.11/dist/index.min.js"></script>
        <script src="https://unpkg.com/d3-graphviz@3.0.5/build/d3-graphviz.js"></script>
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

        <title>Hero.js | Generator</title>
    </head>

    <body>

        <!-- ===== NAVBAR ===== -->
        <nav>

            <ul class="nav-list">
                <li class="nav-item">Heros.js Generator</li>
                <li class="nav-item" id="gameInfosBtn" tabindex="0" onclick="show('gameInfos')">Infos</li>
                <li class="nav-item" id="dataBtn" tabindex="0" onclick="show('data')">Data</li>
                <!-- <li class="nav-item" id="musicBtn" tabindex="0" onclick="show('music')">JDR</li> -->
                <li class="nav-item wip" id="musicBtn" tabindex="0">JDR</li>
                <li class="nav-item" id="playerBtn" tabindex="0" onclick="show('player')">Player</li>
                <li class="nav-item" id="dialogsBtn" tabindex="0" onclick="show('dialogs')">Dialogs</li>
                <li class="nav-item wip" id="listBtn" tabindex="0" title="Dialog List"><i class='bx bx-list-ol' ></i></li>
                <li class="nav-item wip" id="dialogGraphBtn" tabindex="0" title="Dialog Map"><i class='bx bx-sitemap' ></i></li>
                <li class="nav-item item-other wip" tabindex="0" title="Import"><i class='bx bx-import' ></i></li>
                <li class="nav-item item-other" tabindex="0" title="Save (CTRL + S)" onclick="submit()"><i class='bx bx-save'></i></li>
                <li class="nav-item" id="newsBtn" tabindex="0" title="News" onclick="show('news')"><i class='bx bx-news' ></i></li>
                <!-- <li class="nav-item" tabindex="0"></li> -->
            </ul>

        </nav>

        <!-- ===== GAMEINFOS ===== -->
        <section id="gameInfos" class="section">

            <div class="dataform">

                <h2>Infos</h2>
            
                <input type="text" name="title" id="title" placeholder="Game Title" title="Game title" required>
                <input type="number" name="startNumber" id="startNumber" placeholder="First Dialog" title="First Dialog" required>
                <input type="number" name="defeatNumber" id="defeatNumber" placeholder="Defeat Dialog (not required)" title="Defeat Dialog (not required)" required>
                <input type="number" name="maxDice" id="maxDice" placeholder="Max Dice (not required)" title="Max Dice (not required)" required>
                <input type="number" name="maxSkills" id="maxSkills" placeholder="Max Skills (not required)" title="Max Skills (not required)" required>
                
                <br>

                <h2>Display</h2>

                <div class="data">
                    <input type="checkbox" name="showPlayerStamina" id="showPlayerStamina" required checked>
                    <label for="showPlayerStamina">Show Stamina</label>
                </div>
    
                <div class="data">
                    <input type="checkbox" name="showPlayerAbility" id="showPlayerAbility" required checked>
                    <label for="showPlayerAbility">Show Ability</label>
                </div>
                
                <div class="data">
                    <input type="checkbox" name="showPlayerSkills" id="showPlayerSkills" required checked>
                    <label for="showPlayerSkills">Show Skills</label>
                </div>
                
                <div class="data">
                    <input type="checkbox" name="showPlayerGold" id="showPlayerGold" required checked>
                    <label for="showPlayerGold">Show Gold</label>
                </div>
                
                <div class="data">
                    <input type="checkbox" name="showPlayerInventory" id="showPlayerInventory" required checked>
                    <label for="showPlayerInventory">Show Inventory</label>
                </div>

                <h2>Colors</h2>

                <div class="datalist">
                    <div class="dataAdd">
                        <select name="ColorElem" id="ColorElem">
                            <option>hudColor</option>
                            <option>hudBoderColor</option>
                            <option>hudTextColor</option>
                            <option>hudTitleColor</option>
                            <option>hudTitleTextColor</option>
                            <option>statsColor</option>
                            <option>statsBorderColor</option>
                            <option>statsTextColor</option>
                            <option>statsHeaderColor</option>
                            <option>statsHeaderTextColor</option>
                            <option>dialogHeaderColor</option>
                            <option>dialogHeaderBorderColor</option>
                            <option>dialogHeaderTextColor</option>
                            <option>dialogBodyColor</option>
                            <option>dialogBodyBorderColor</option>
                            <option>dialogBodyTextColor</option>
                            <option>buttonColor</option>
                            <option>buttonTextColor</option>
                            <option>buttonDisableColor</option>
                            <option>buttondisableTextColor</option>
                            <option>notificationBodyColor</option>
                            <option>notificationBodyTextColor</option>
                            <option>notificationHeaderColor</option>
                            <option>notificationHeaderTextColor</option>
                            <option>fightHudInfosColor</option>
                            <option>fightHudInfosBorderColor</option>
                            <option>fightHudInfosTextColor</option>
                            <option>navbarTextColor</option>
                            <option>navbarDropdownColor</option>
                            <option>navbarColor</option>
                            <option>specialObjectTextColor</option>
                            <option>first-color</option>
                            <option>first-color-dark</option>
                            <option>first-color-darken</option>
                            <option>white-color</option>
                          </select>
                        <input class="color" type="color" name="ColorColor" id="ColorColor" title="Element Color">
                        <button class="add" onclick="addColor()"><i class='bx bx-check' ></i></button>
                    </div>
                    <table id="colorList"></table>
                </div>

            </div>

        </section>

        <!-- ===== DATA ===== -->
        <section id="data" class="section">

            <div class="dataform">

                <div class="datalist">
                    <h2>Skills</h2>
                    <div class="dataAdd">
                        <input type="text" name="skillName" id="skillName" placeholder="Skill Name" title="Skill Name" required>
                        <input type="number" name="skillAbility" id="skillAbility" placeholder="Ability" title="Ability" required>
                        <input type="number" name="skillStamina" id="skillStamina" placeholder="Stamina" title="Stamina" required>
                        <button class="add" onclick="addSkill()"><i class='bx bx-check' ></i></button>
                    </div>
                    <table id="skillsList"></table>
                </div>
                
                <div class="datalist">
                    <h2>Objects</h2>
                    <div class="dataAdd">
                        <input type="text" name="objectName" id="objectName" placeholder="Object Name" title="Object Name" required>
                        <select name="objectType" id="objectType" list="objectTypeList" placeholder="Object Type">
                            <option>inventory</option>
                            <option>special</option>
                          </select>
                        <input type="number" name="itemAbility" id="itemAbility" placeholder="Ability" title="Ability" required>
                        <input type="number" name="itemStamina" id="itemStamina" placeholder="Stamina" title="Stamina" required>
                        <input type="number" name="itemGold" id="itemGold" placeholder="Gold" title="Gold" required>
                        <input type="number" name="itemMeal" id="itemMeal" placeholder="Meal" title="Meal" required>
                        <button class="add" onclick="addObject()"><i class='bx bx-check' ></i></button>
                    </div>
                    <table id="objectList"></table>
                </div>

                <div class="datalist">
                    <h2>Pictures</h2>
                    <div class="dataAdd">
                        <input type="text" name="pictureName" id="pictureName" placeholder="Picture Name" title="Picture Name" required>
                        <input type="url" name="pictureURL" id="pictureURL" placeholder="Picture URL" title="Picture URL" required>
                        <button class="add" onclick="addPicture()"><i class='bx bx-check' ></i></button>
                    </div>
                    <table id="pictureList"></table>
                </div>
                
                <div class="datalist">
                    <h2>Music & Sounds</h2>
                    <div class="dataAdd music">
                        <input type="text" name="soundName" id="soundName" placeholder="Sound name" title="Sound Name">
                        <input type="URL" name="soundURL" id="soundURL" placeholder="Sound URL" title="Sound URL">
                        <input type="range" id="soundVolume" name="soundVolume" min="0" max="100" step="1" title="Sound Volume">
                        <button class="add" onclick="addSound()"><i class='bx bx-check' ></i></button>
                    </div>
                    <table id="soundList"></table>
                </div>

            </div>

        </section>
        
        <!-- ===== JDR ===== -->
        <!-- Y mettre tout ce qui touche à l'aspect JDR (fight table ici par exemple) -->
        <section id="music" class="section">

            <div class="dataform music">

                <h2>Music & Sound</h2>

                <div class="data">
                    <input type="URL" name="hurt" id="hurt" placeholder="Hurt Sound URL (not required)" title="Hurt Sound">
                    <input type="range" id="volumeHurt" name="volumeHurt" min="0" max="100" step="1" title="Hurt Volume">
                </div>
    
                <div class="data">
                    <input type="URL" name="victory" id="victory" placeholder="Victory Sound URL (not required)" title="Victory Sound">
                    <input type="range" id="volumeVictory" name="volumeVictory" min="0" max="100" step="1" title="Victory Volume">
                </div>
    
                <div class="data">
                    <input type="URL" name="defeat" id="defeat" placeholder="Defeat Sound URL (not required)" title="Defeat Sound">
                    <input type="range" id="volumeDefeat" name="volumeDefeat" min="0" max="100" step="1" title="Defeat Volume">
                </div>
    
                <div class="data">
                    <input type="URL" name="fight" id="fight" placeholder="Fight Music URL (not required)" title="Fight Music">
                    <input type="range" id="volumeFight" name="volumeFight" min="0" max="100" step="1" title="Fight Volume">
                </div>
    
            </div>

        </section>

        <!-- ===== PLAYER ===== -->
        <section id="player" class="section">
            <button onclick="generatePlayer()" class="big-btn">Create new Player</button>
        </section>

        <!-- ===== DIALOGS ===== -->
        <section id="dialogs" class="section">

            <div class="dataform">
                <div class="datalist">
                    <!-- <h2>Dialogs</h2> -->
                    <div class="dataAdd dialogList">

                        <h2>Body</h2>
                        <input type="text" name="dialogID" id="dialogID" placeholder="Dialog ID" title="Dialog ID" value="0">
                        <input type="text" name="dialogTitle" id="dialogTitle" placeholder="Dialog title (not required)" title="Dialog title (not required)">
                        <textarea rows="5" name="dialogBody" id="dialogBody" placeholder="Dialog body" title="Dialog body"></textarea>
                        <input type="text" name="dialogAction" id="dialogAction" placeholder="Dialog action (not required)" title="Dialog action (not required)">

                        <!-- <h2>Data</h2> -->
                        <div class="grid-4">
                            <select name="dialogMusic" id="dialogMusic">
                                <option>No Music</option>
                            </select>
                            <select name="dialogBackground" id="dialogBackground">
                                <option>No Background</option>
                            </select>
                            <select name="dialogImage" id="dialogImage">
                                <option>No Picture</option>
                            </select>
                            <select name="dialogAnimation" id="dialogAnimation">
                                <option>No Animation</option>
                                <option>shake</option>
                                <option>fadeIn</option>
                                <option>jump</option>
                            </select>
                        </div>

                        <h2>Dialog Options</h2>
                        <div class="dialogOption" id="dialogOption">
                            <div class="grid-2 option-grid-2">
                                <input type="number" name="optionID" id="optionID" placeholder="Option ID" title="Option ID" value="0">
                                <input type="text" name="optionBody" id="optionBody" placeholder="Option Body" title="Option Body">
                            </div>
                            <div class="grid-2">
                                <input type="number" name="optionGoToIndex" id="optionGoToIndex" placeholder="Go to Index (not required)" title="Go to Index (not required)">
                                <select name="optionSound" id="optionSound">
                                    <option>No Sound</option>
                                </select>
                            </div>
                            
                            <div id="optionConditionZone">
                                <select name="optionCondition" id="optionCondition" onchange="appendCondition()">
                                    <option>No Condition</option>
                                    <option>GOLD</option>
                                    <option>MEAL</option>
                                    <option>STAMINA</option>
                                    <option>ABILITY</option>
                                    <option>SKILL</option>
                                    <option>OBJECT</option>
                                </select>
                            </div>
                            <div id="optionEffectZone">
                                <select name="optionEffect" id="optionEffect" onchange="appendEffect()">
                                    <option>No Effect</option>
                                    <option>REMOVE_OBJECT</option>
                                    <option>ADD_OBJECT</option>
                                    <option>MEAL</option>
                                    <option>STAMINA</option>
                                    <option>ABILITY</option>
                                    <option>LIFE</option>
                                    <option>RESTART</option>
                                </select>
                            </div>
                            <button class="add" onclick="addOption()"><i class='bx bx-plus'></i></button>
                        </div>
                        <table id="optionsList"></table>

                        <!-- <h3></h3> -->
                        <div class="grid-2">
                            <button class="add" onclick="addDialog()"><i class='bx bx-check' ></i></button>
                        </div>
                    </div>
                    <table id="colorList"></table>
                </div>
            </div>


        </section>

        <!-- ===== DIALOG LIST ===== -->
        <section id="list" class="section">

            <div id="preview" style="display: none;"></div>

            <div class="dataform">
                <h2>Dialogs List</h2>
                <table id="dialogList"></table>
            </div>

        </section>

        <section id="dialogGraph" class="section">
            <h2>Dialog Map</h2>
            <div id="previewGraph" style="display: none;"></div>
            <div id="graph"></div>
        </section>

        <!-- ===== NEWS ===== -->
        <section class="section" id="news">
            <h2>News & Updates</h2>
        </section>

        <div id="return"></div>

        <script src="js/generator/show.js"></script>
        <script src="js/generator/export.js"></script>
        <script src="js/generator/append.js"></script>
        <script src="js/generator/generator.js"></script>
        <script src="js/generator/dialog.js"></script>
        <script src="js/generator/news.js"></script>
        <script src="js/generator/graph.js"></script>

        <script src="js/engine/dialog.js"></script>
        <script src="js/engine/button.js"></script>
        <script src="js/engine/sound.js"></script>
        <script src="js/engine/hud.js"></script>
        <script>
            show('gameInfos')
            news()

            document.addEventListener("keydown", function(e) {
                if ((window.navigator.platform.match("Mac") ? e.metaKey : e.ctrlKey)  && e.keyCode == 83) {
                    e.preventDefault();
                    submit()
                }
            }, false);

        </script>
    </body>

</html>